GOOGLE_APPLICATION_CREDENTIALS = r"C:\Users\matas\tc34_gcp_cred\tc-loan-default-3c84abb6b0e2.json"
BUCKET_NAME = "loandefault-bckt"

DATA_DIRECTORY = "gs://loandefault-bckt/data/"
PICKLED_DATA_DIRECTORY = f"gs://{BUCKET_NAME}/extracted_data/"
SCALER_FOLDER = "scalers/"
RFECV_FOLDER = "rfecvs/"
HYPERPARAMS_FOLDER = "hyperparams/"
MODELS_FOLDER = "models/"

BUREAU_BALANCE_DTYPES = {
        "SK_ID_BUREAU": "int64",
        "MONTHS_BALANCE": "int64",
        "STATUS": "object"
    }

BUREAU_DTYPES = {
    "SK_ID_CURR": "int64",
    "SK_ID_BUREAU": "int64",
    "CREDIT_ACTIVE": "object",
    "CREDIT_CURRENCY": "object",
    "DAYS_CREDIT": "int64",
    "CREDIT_DAY_OVERDUE": "int64",
    "DAYS_CREDIT_ENDDATE": "float64",
    "DAYS_ENDDATE_FACT": "float64",
    "AMT_CREDIT_MAX_OVERDUE": "float64",
    "CNT_CREDIT_PROLONG": "int64",
    "AMT_CREDIT_SUM": "float64",
    "AMT_CREDIT_SUM_DEBT": "float64",
    "AMT_CREDIT_SUM_LIMIT": "float64",
    "AMT_CREDIT_SUM_OVERDUE": "float64",
    "CREDIT_TYPE": "object",
    "DAYS_CREDIT_UPDATE": "int64",
    "AMT_ANNUITY": "float64"
    }

POS_CASH_DTYPES = {
    "SK_ID_PREV": "int64",
    "SK_ID_CURR": "int64",
    "MONTHS_BALANCE": "int64",
    "CNT_INSTALMENT": "float64",
    "CNT_INSTALMENT_FUTURE": "float64",
    "NAME_CONTRACT_STATUS": "object",
    "SK_DPD": "int64",
    "SK_DPD_DEF": "int64"
}

INSTALMENTS_PAYMENTS_DTYPES = {
    "SK_ID_PREV": "int64",
    "SK_ID_CURR": "int64",
    "NUM_INSTALMENT_VERSION": "float64",
    "NUM_INSTALMENT_NUMBER": "int64",
    "DAYS_INSTALMENT": "float64",
    "DAYS_ENTRY_PAYMENT": "float64",
    "AMT_INSTALMENT": "float64",
    "AMT_PAYMENT": "float64"
}

CREDIT_CARD_BALANCE_DTYPES = {
    "SK_ID_PREV": "int64",
    "SK_ID_CURR": "int64",
    "MONTHS_BALANCE": "int64",
    "AMT_BALANCE": "float64",
    "AMT_CREDIT_LIMIT_ACTUAL": "int64",
    "AMT_DRAWINGS_ATM_CURRENT": "float64",
    "AMT_DRAWINGS_CURRENT": "float64",
    "AMT_DRAWINGS_OTHER_CURRENT": "float64",
    "AMT_DRAWINGS_POS_CURRENT": "float64",
    "AMT_INST_MIN_REGULARITY": "float64",
    "AMT_PAYMENT_CURRENT": "float64",
    "AMT_PAYMENT_TOTAL_CURRENT": "float64",
    "AMT_RECEIVABLE_PRINCIPAL": "float64",
    "AMT_RECIVABLE": "float64",
    "AMT_TOTAL_RECEIVABLE": "float64",
    "CNT_DRAWINGS_ATM_CURRENT": "float64",
    "CNT_DRAWINGS_CURRENT": "int64",
    "CNT_DRAWINGS_OTHER_CURRENT": "float64",
    "CNT_DRAWINGS_POS_CURRENT": "float64",
    "CNT_INSTALMENT_MATURE_CUM": "float64",
    "NAME_CONTRACT_STATUS": "object",
    "SK_DPD": "int64",
    "SK_DPD_DEF": "int64"
}

PREVIOUS_APPLICATIONS_DTYPES = {
    "SK_ID_PREV": "int64",
    "SK_ID_CURR": "int64",
    "NAME_CONTRACT_TYPE": "object",
    "AMT_ANNUITY": "float64",
    "AMT_APPLICATION": "float64",
    "AMT_CREDIT": "float64",
    "AMT_DOWN_PAYMENT": "float64",
    "AMT_GOODS_PRICE": "float64",
    "WEEKDAY_APPR_PROCESS_START": "object",
    "HOUR_APPR_PROCESS_START": "int64",
    "FLAG_LAST_APPL_PER_CONTRACT": "object",
    "NFLAG_LAST_APPL_IN_DAY": "int64",
    "RATE_DOWN_PAYMENT": "float64",
    "RATE_INTEREST_PRIMARY": "float64",
    "RATE_INTEREST_PRIVILEGED": "float64",
    "NAME_CASH_LOAN_PURPOSE": "object",
    "NAME_CONTRACT_STATUS": "object",
    "DAYS_DECISION": "int64",
    "NAME_PAYMENT_TYPE": "object",
    "CODE_REJECT_REASON": "object",
    "NAME_TYPE_SUITE": "object",
    "NAME_CLIENT_TYPE": "object",
    "NAME_GOODS_CATEGORY": "object",
    "NAME_PORTFOLIO": "object",
    "NAME_PRODUCT_TYPE": "object",
    "CHANNEL_TYPE": "object",
    "SELLERPLACE_AREA": "int64",
    "NAME_SELLER_INDUSTRY": "object",
    "CNT_PAYMENT": "float64",
    "NAME_YIELD_GROUP": "object",
    "PRODUCT_COMBINATION": "object",
    "DAYS_FIRST_DRAWING": "float64",
    "DAYS_FIRST_DUE": "float64",
    "DAYS_LAST_DUE_1ST_VERSION": "float64",
    "DAYS_LAST_DUE": "float64",
    "DAYS_TERMINATION": "float64",
    "NFLAG_INSURED_ON_APPROVAL": "float64"
}

APPLICATIONS_DTYPES = {
    "SK_ID_CURR": "int64",
    "TARGET": "int64",
    "NAME_CONTRACT_TYPE": "O",
    "CODE_GENDER": "O",
    "FLAG_OWN_CAR": "O",
    "FLAG_OWN_REALTY": "O",
    "CNT_CHILDREN": "int64",
    "AMT_INCOME_TOTAL": "float64",
    "AMT_CREDIT": "float64",
    "AMT_ANNUITY": "float64",
    "AMT_GOODS_PRICE": "float64",
    "NAME_TYPE_SUITE": "O",
    "NAME_INCOME_TYPE": "O",
    "NAME_EDUCATION_TYPE": "O",
    "NAME_FAMILY_STATUS": "O",
    "NAME_HOUSING_TYPE": "O",
    "REGION_POPULATION_RELATIVE": "float64",
    "DAYS_BIRTH": "int64",
    "DAYS_EMPLOYED": "int64",
    "DAYS_REGISTRATION": "float64",
    "DAYS_ID_PUBLISH": "int64",
    "OWN_CAR_AGE": "float64",
    "FLAG_MOBIL": "int64",
    "FLAG_EMP_PHONE": "int64",
    "FLAG_WORK_PHONE": "int64",
    "FLAG_CONT_MOBILE": "int64",
    "FLAG_PHONE": "int64",
    "FLAG_EMAIL": "int64",
    "OCCUPATION_TYPE": "O",
    "CNT_FAM_MEMBERS": "float64",
    "REGION_RATING_CLIENT": "int64",
    "REGION_RATING_CLIENT_W_CITY": "int64",
    "WEEKDAY_APPR_PROCESS_START": "O",
    "HOUR_APPR_PROCESS_START": "int64",
    "REG_REGION_NOT_LIVE_REGION": "int64",
    "REG_REGION_NOT_WORK_REGION": "int64",
    "LIVE_REGION_NOT_WORK_REGION": "int64",
    "REG_CITY_NOT_LIVE_CITY": "int64",
    "REG_CITY_NOT_WORK_CITY": "int64",
    "LIVE_CITY_NOT_WORK_CITY": "int64",
    "ORGANIZATION_TYPE": "O",
    "EXT_SOURCE_1": "float64",
    "EXT_SOURCE_2": "float64",
    "EXT_SOURCE_3": "float64",
    "APARTMENTS_AVG": "float64",
    "BASEMENTAREA_AVG": "float64",
    "YEARS_BEGINEXPLUATATION_AVG": "float64",
    "YEARS_BUILD_AVG": "float64",
    "COMMONAREA_AVG": "float64",
    "ELEVATORS_AVG": "float64",
    "ENTRANCES_AVG": "float64",
    "FLOORSMAX_AVG": "float64",
    "FLOORSMIN_AVG": "float64",
    "LANDAREA_AVG": "float64",
    "LIVINGAPARTMENTS_AVG": "float64",
    "LIVINGAREA_AVG": "float64",
    "NONLIVINGAPARTMENTS_AVG": "float64",
    "NONLIVINGAREA_AVG": "float64",
    "APARTMENTS_MODE": "float64",
    "BASEMENTAREA_MODE": "float64",
    "YEARS_BEGINEXPLUATATION_MODE": "float64",
    "YEARS_BUILD_MODE": "float64",
    "COMMONAREA_MODE": "float64",
    "ELEVATORS_MODE": "float64",
    "ENTRANCES_MODE": "float64",
    "FLOORSMAX_MODE": "float64",
    "FLOORSMIN_MODE": "float64",
    "LANDAREA_MODE": "float64",
    "LIVINGAPARTMENTS_MODE": "float64",
    "LIVINGAREA_MODE": "float64",
    "NONLIVINGAPARTMENTS_MODE": "float64",
    "NONLIVINGAREA_MODE": "float64",
    "APARTMENTS_MEDI": "float64",
    "BASEMENTAREA_MEDI": "float64",
    "YEARS_BEGINEXPLUATATION_MEDI": "float64",
    "YEARS_BUILD_MEDI": "float64",
    "COMMONAREA_MEDI": "float64",
    "ELEVATORS_MEDI": "float64",
    "ENTRANCES_MEDI": "float64",
    "FLOORSMAX_MEDI": "float64",
    "FLOORSMIN_MEDI": "float64",
    "LANDAREA_MEDI": "float64",
    "LIVINGAPARTMENTS_MEDI": "float64",
    "LIVINGAREA_MEDI": "float64",
    "NONLIVINGAPARTMENTS_MEDI": "float64",
    "NONLIVINGAREA_MEDI": "float64",
    "FONDKAPREMONT_MODE": "O",
    "HOUSETYPE_MODE": "O",
    "TOTALAREA_MODE": "float64",
    "WALLSMATERIAL_MODE": "O",
    "EMERGENCYSTATE_MODE": "O",
    "OBS_30_CNT_SOCIAL_CIRCLE": "float64",
    "DEF_30_CNT_SOCIAL_CIRCLE": "float64",
    "OBS_60_CNT_SOCIAL_CIRCLE": "float64",
    "DEF_60_CNT_SOCIAL_CIRCLE": "float64",
    "DAYS_LAST_PHONE_CHANGE": "float64",
    "FLAG_DOCUMENT_2": "int64",
    "FLAG_DOCUMENT_3": "int64",
    "FLAG_DOCUMENT_4": "int64",
    "FLAG_DOCUMENT_5": "int64",
    "FLAG_DOCUMENT_6": "int64",
    "FLAG_DOCUMENT_7": "int64",
    "FLAG_DOCUMENT_8": "int64",
    "FLAG_DOCUMENT_9": "int64",
    "FLAG_DOCUMENT_10": "int64",
    "FLAG_DOCUMENT_11": "int64",
    "FLAG_DOCUMENT_12": "int64",
    "FLAG_DOCUMENT_13": "int64",
    "FLAG_DOCUMENT_14": "int64",
    "FLAG_DOCUMENT_15": "int64",
    "FLAG_DOCUMENT_16": "int64",
    "FLAG_DOCUMENT_17": "int64",
    "FLAG_DOCUMENT_18": "int64",
    "FLAG_DOCUMENT_19": "int64",
    "FLAG_DOCUMENT_20": "int64",
    "FLAG_DOCUMENT_21": "int64",
    "AMT_REQ_CREDIT_BUREAU_HOUR": "float64",
    "AMT_REQ_CREDIT_BUREAU_DAY": "float64",
    "AMT_REQ_CREDIT_BUREAU_WEEK": "float64",
    "AMT_REQ_CREDIT_BUREAU_MON": "float64",
    "AMT_REQ_CREDIT_BUREAU_QRT": "float64",
    "AMT_REQ_CREDIT_BUREAU_YEAR": "float64"
}

BUREAU_AGG = {
    "SK_ID_BUREAU": ["nunique"],
    "DAYS_CREDIT": ["min", "max", "mean"],
    "DAYS_CREDIT_ENDDATE": ["min", "max"],
    "AMT_CREDIT_MAX_OVERDUE": ["max", "mean"],
    "AMT_CREDIT_SUM": ["max", "mean", "sum"],
    "AMT_CREDIT_SUM_DEBT": ["max", "mean", "sum"],
    "AMT_CREDIT_SUM_OVERDUE": ["max", "mean", "sum"],
    "AMT_ANNUITY": ["mean"],
    "AVAILABLE_CREDIT": ["mean", "sum"],
    "MONTHS_BALANCE_MEAN": ["mean"],
    "MONTHS_BALANCE_SIZE": ["mean", "sum"],
    "STATUS_0": ["mean"],
    "STATUS_1": ["mean"],
    "STATUS_LATE": ["mean"],
    "STATUS_C": ["mean"],
    "STATUS_X": ["mean"],
    "CREDIT_ACTIVE_Active": ["mean"],
    "CREDIT_ACTIVE_Closed": ["mean"],
    "CREDIT_ACTIVE_Sold": ["mean"],
    "CREDIT_TYPE_Consumer credit": ["mean"],
    "CREDIT_TYPE_Credit card": ["mean"],
    "CREDIT_TYPE_Car loan": ["mean"],
    "CREDIT_TYPE_Mortgage": ["mean"],
    "CREDIT_TYPE_Microloan": ["mean"],
}

BUREAU_ACTIVE_AGG = {
    "DAYS_CREDIT": ["max", "mean"],
    "DAYS_CREDIT_ENDDATE": ["min", "max"],
    "AMT_CREDIT_SUM": ["max", "sum"],
    "AMT_CREDIT_SUM_DEBT": ["mean", "sum"],
    "AMT_CREDIT_SUM_OVERDUE": ["max", "mean"],
    "DAYS_CREDIT_UPDATE": ["min", "mean"],
    "USED_CREDIT_PERC": ["mean"],
    "AVAILABLE_CREDIT": ["mean"],
    "MONTHS_BALANCE_MEAN": ["mean"],
    "MONTHS_BALANCE_SIZE": ["mean", "sum"],
}

BUREAU_CLOSED_AGG = {
    "DAYS_CREDIT": ["max"],
    "AMT_CREDIT_MAX_OVERDUE": ["max", "mean"],
    "AMT_CREDIT_SUM_OVERDUE": ["mean"],
    "AMT_CREDIT_SUM": ["max", "mean", "sum"],
    "AMT_CREDIT_SUM_DEBT": ["max", "sum"],
    "DAYS_CREDIT_UPDATE": ["max"],
    "STATUS_LATE": ["mean"],
}

BUREAU_LOAN_TYPE_AGG = {
    "DAYS_CREDIT": ["mean", "max"],
    "AMT_CREDIT_MAX_OVERDUE": ["mean", "max"],
    "AMT_CREDIT_SUM": ["mean", "max"],
    "AMT_CREDIT_SUM_DEBT": ["mean", "max"],
    "USED_CREDIT_PERC": ["mean"],
    "AVAILABLE_CREDIT": ["mean"],
}


POS_CASH_AGG = {
    "SK_ID_PREV": ["nunique"],
    "MONTHS_BALANCE": ["min", "max", "size"],
    "SK_DPD": ["max", "mean", "sum"],
    "SK_DPD_DEF": ["max", "mean"],
    "FLAG_LATE_PYMNT": ["mean"]
}

INSTALLMENTS_AGG = {
    "SK_ID_PREV": ["size", "nunique"],
    "DAYS_ENTRY_PAYMENT": ["mean"],
    "AMT_INSTALMENT": ["mean", "sum"],
    "AMT_PAYMENT": ["mean", "sum"],
    "DPD": ["max", "mean"],
    "DBD": ["max", "mean"],
    "PAYMENT_DIFFERENCE": ["mean"],
    "PAYMENT_RATIO": ["mean"],
    "LATE_PAYMENT": ["mean"],
    "SIGNIFICANT_LATE_PAYMENT": ["mean"],
    "LATE_PAYMENT_RATIO": ["mean"],
    "DPD_7": ["mean"],
    "DPD_15": ["mean"],
    "PAID_OVER": ["mean"]
}


CREDIT_CARD_AGG = {
    "MONTHS_BALANCE": ["min"],
    "AMT_BALANCE": ["max"],
    "AMT_CREDIT_LIMIT_ACTUAL": ["max"],
    "AMT_DRAWINGS_ATM_CURRENT": ["max", "sum"],
    "AMT_DRAWINGS_CURRENT": ["max", "sum"],
    "AMT_DRAWINGS_POS_CURRENT": ["max", "sum"],
    "AMT_INST_MIN_REGULARITY": ["max", "mean"],
    "AMT_PAYMENT_TOTAL_CURRENT": ["max", "mean", "sum"],
    "AMT_TOTAL_RECEIVABLE": ["max", "mean"],
    "CNT_DRAWINGS_ATM_CURRENT": ["max", "mean", "sum"],
    "CNT_DRAWINGS_CURRENT": ["max", "mean", "sum"],
    "CNT_DRAWINGS_POS_CURRENT": ["mean"],
    "SK_DPD": ["mean", "max"],
    "SK_DPD_DEF": ["max"],
    "LIMIT_USE": ["max", "mean"],
    "PAYMENT_DIV_MIN": ["min", "mean"],
    "LATE_PAYMENT": ["max"],
}

PREVIOUS_AGG = {
    "SK_ID_PREV": ["nunique"],
    "AMT_ANNUITY": ["min", "max", "mean"],
    "AMT_DOWN_PAYMENT": ["max", "mean"],
    "HOUR_APPR_PROCESS_START": ["mean"],
    "RATE_DOWN_PAYMENT": ["max", "mean"],
    "DAYS_DECISION": ["mean"],
    "CNT_PAYMENT": ["max", "mean"],
    "DAYS_TERMINATION": ["max"],
    "CREDIT_TO_ANNUITY_RATIO": ["mean", "max"],
    "APPLICATION_CREDIT_DIFF": ["min", "max", "mean"],
    "APPLICATION_CREDIT_RATIO": ["min", "max", "mean"],
    "DOWN_PAYMENT_TO_CREDIT": ["mean"],
}

PREVIOUS_ACTIVE_AGG = {
    "SK_ID_PREV": ["nunique"],
    "SIMPLE_INTERESTS": ["mean"],
    "AMT_ANNUITY": ["max", "sum"],
    "AMT_APPLICATION": ["max", "mean"],
    "AMT_CREDIT": ["sum"],
    "AMT_DOWN_PAYMENT": ["max", "mean"],
    "DAYS_DECISION": ["min", "mean"],
    "CNT_PAYMENT": ["mean", "sum"],
    "DAYS_LAST_DUE_1ST_VERSION": ["min", "max", "mean"],
    "AMT_PAYMENT": ["sum"],
    "INSTALMENT_PAYMENT_DIFF": ["mean", "max"],
    "REMAINING_DEBT": ["max", "mean", "sum"],
    "REPAYMENT_RATIO": ["mean"],
}

PREVIOUS_APPROVED_AGG = {
    "SK_ID_PREV": ["nunique"],
    "AMT_ANNUITY": ["min", "max", "mean"],
    "AMT_CREDIT": ["min", "max", "mean"],
    "AMT_DOWN_PAYMENT": ["max"],
    "AMT_GOODS_PRICE": ["max"],
    "HOUR_APPR_PROCESS_START": ["min", "max"],
    "DAYS_DECISION": ["min", "mean"],
    "CNT_PAYMENT": ["max", "mean"],
    "DAYS_TERMINATION": ["mean"],
    "CREDIT_TO_ANNUITY_RATIO": ["mean", "max"],
    "APPLICATION_CREDIT_DIFF": ["max"],
    "APPLICATION_CREDIT_RATIO": ["min", "max", "mean"],
    "DAYS_FIRST_DRAWING": ["max", "mean"],
    "DAYS_FIRST_DUE": ["min", "mean"],
    "DAYS_LAST_DUE_1ST_VERSION": ["mean"],
    "DAYS_LAST_DUE": ["max", "mean"],
    "DAYS_LAST_DUE_DIFF": ["mean"],
    "SIMPLE_INTERESTS": ["max", "mean"],
}

PREVIOUS_REFUSED_AGG = {
    "AMT_APPLICATION": ["max", "mean"],
    "AMT_CREDIT": ["min", "max"],
    "DAYS_DECISION": ["min", "max", "mean"],
    "CNT_PAYMENT": ["max", "mean"],
    "APPLICATION_CREDIT_DIFF": ["min", "max", "mean"],
    "APPLICATION_CREDIT_RATIO": ["min"],
    "NAME_CONTRACT_TYPE_Consumer loans": ["mean"],
    "NAME_CONTRACT_TYPE_Cash loans": ["mean"],
    "NAME_CONTRACT_TYPE_Revolving loans": ["mean"],
}

PREVIOUS_LATE_PAYMENTS_AGG = {
    "DAYS_DECISION": ["min"],
    "DAYS_LAST_DUE_1ST_VERSION": ["min"],
    "APPLICATION_CREDIT_DIFF": ["min"],
    "NAME_CONTRACT_TYPE_Consumer loans": ["mean"],
    "NAME_CONTRACT_TYPE_Cash loans": ["mean"],
    "NAME_CONTRACT_TYPE_Revolving loans": ["mean"],
}

PREVIOUS_LOAN_TYPE_AGG = {
    "AMT_CREDIT": ["sum"],
    "AMT_ANNUITY": ["mean", "max"],
    "SIMPLE_INTERESTS": ["min", "mean", "max"],
    "APPLICATION_CREDIT_DIFF": ["min"],
    "APPLICATION_CREDIT_RATIO": ["min", "max", "mean"],
    "DAYS_DECISION": ["max"],
    "DAYS_LAST_DUE_1ST_VERSION": ["min"],
    "CNT_PAYMENT": ["mean"],
}


CATEGORICAL_COLS = [
    "CODE_GENDER", "FLAG_OWN_CAR", "FLAG_OWN_REALTY", "NAME_TYPE_SUITE",
    "NAME_INCOME_TYPE", "NAME_EDUCATION_TYPE", "NAME_FAMILY_STATUS",
    "NAME_HOUSING_TYPE", "FLAG_MOBIL", "FLAG_EMP_PHONE", "FLAG_WORK_PHONE",
    "FLAG_CONT_MOBILE", "FLAG_PHONE", "FLAG_EMAIL", "OCCUPATION_TYPE",
    "CNT_FAM_MEMBERS", "REGION_RATING_CLIENT", "REGION_RATING_CLIENT_W_CITY",
    "WEEKDAY_APPR_PROCESS_START", "HOUR_APPR_PROCESS_START",
    "REG_REGION_NOT_LIVE_REGION", "REG_REGION_NOT_WORK_REGION",
    "LIVE_REGION_NOT_WORK_REGION", "REG_CITY_NOT_LIVE_CITY",
    "REG_CITY_NOT_WORK_CITY", "LIVE_CITY_NOT_WORK_CITY", "ORGANIZATION_TYPE",
    "FLAG_DOCUMENT_2", "FLAG_DOCUMENT_3", "FLAG_DOCUMENT_4", "FLAG_DOCUMENT_5",
    "FLAG_DOCUMENT_6", "FLAG_DOCUMENT_7", "FLAG_DOCUMENT_8", "FLAG_DOCUMENT_9",
    "FLAG_DOCUMENT_10", "FLAG_DOCUMENT_11", "FLAG_DOCUMENT_12", "FLAG_DOCUMENT_13",
    "FLAG_DOCUMENT_14", "FLAG_DOCUMENT_15", "FLAG_DOCUMENT_16", "FLAG_DOCUMENT_17",
    "FLAG_DOCUMENT_18", "FLAG_DOCUMENT_19", "FLAG_DOCUMENT_20", "FLAG_DOCUMENT_21",
    "AGE_RANGE", "HOUSE_DATA_MISSING_FLAG", "WALLSMATERIAL_MODE"
]
